[tool:pytest]
minversion = 6.0
addopts = -ra -q --strict-markers --benchmark-skip
asyncio_mode = auto
testpaths = tests benchmarks
python_files = test_*.py benchmark_*.py *_test.py
python_functions = test_* benchmark_*
norecursedirs = refunc .git .tox dist build *.egg
markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    gpu: marks tests that require GPU (deselect with '-m "not gpu"')
    asyncio: marks async tests
    benchmark: marks benchmark tests
    unit: marks unit tests
    integration: marks integration tests
    
# Benchmark configuration
benchmark-columns = min,max,mean,stddev,outliers,ops,rounds
benchmark-group-by = group
benchmark-sort = mean
benchmark-compare-fail = mean:5% # Fail if performance degrades by 5%
benchmark-autosave = true
benchmark-save-data = true
benchmark-json = benchmarks/.benchmarks/results.json